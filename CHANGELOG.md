# Changelog

All notable changes to this package will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).

## [1.0.0] - 2025-01-XX

### Added

- Introduced cumulative `total_purchase_value` tracking for purchase events. The SDK now maintains a persistent, device-local sum of all purchase values (revenue) generated by the user.
- Every purchase event now automatically includes a `total_purchase_value` field, representing the total value of all purchases made by the user since app install.
- The cumulative value is stored using Unity's PlayerPrefs and persists across app sessions and device restarts.
- Updated `SendCustomPurchaseEvent` and new `SendPurchaseEvent` APIs to automatically update and include `total_purchase_value` in event payloads.
- Added `AudiencelabSDK.GetTotalPurchaseValue()` to retrieve the current cumulative purchase value for the user.
- Updated documentation and usage examples to reflect the new purchase API and event data structure.
- Added SDK version tracking to all web requests. Every request now includes `sdk_version` and `sdk_type` fields for better analytics and debugging.
- Created centralized `SDKVersion` class to manage SDK version information across the entire SDK.
- All webhook requests and device metrics requests now include SDK version information in their payloads.
- Added dynamic app version tracking using Unity's `Application.version` and `Application.bundleVersion`.
- All web requests now include `app_version` and `app_bundle_version` fields for comprehensive version tracking.
- Added public methods `GetAppVersion()`, `GetAppBundleVersion()`, `GetSDKVersion()`, and `GetUnityVersion()` for easy access to version information.

## [0.9.9] - 2025-07-22

### Added

- Introduced cumulative `total_ad_value` tracking for ad events. The SDK now maintains a persistent, device-local sum of all ad values (revenue) generated by the user.
- Every ad event now automatically includes a `total_ad_value` field, representing the total value of all ads viewed by the user since app install.
- The cumulative value is stored using Unity's PlayerPrefs and persists across app sessions and device restarts.
- Updated `SendCustomAdEvent` and new `SendAdViewEvent` APIs to automatically update and include `total_ad_value` in event payloads.
- Added `AudiencelabSDK.GetTotalAdValue()` to retrieve the current cumulative ad value for the user.
- Updated documentation and usage examples to reflect the new API and event data structure.

## [0.9.61] - 2025-05-20

### Fixed

- Fixed NullReferenceException in TokenHandler.SetToken when network requests fail
- Added null checks to prevent crashes when token fetching fails
- Improved error handling in token acquisition process

## [0.9.6] - 2025-03-27

### Fixed

- Fixed empty request body issue on Unity 6.x for iOS platform
- Improved request serialization consistency across all platforms
- Added proper serializable classes for all network requests
- Fixed null reference exceptions in Unity Editor for device info
- Standardized JSON serialization approach across the SDK

### Changed

- Refactored request models into dedicated classes for better type safety
- Improved platform-specific handling for device information
- Enhanced error handling for network requests

### Added

- Added new serializable classes for system info and GPU content
- Added better support for Unity Editor testing

## [0.9.53] - 2025-03-10

### Minor updates

- Added automatic creation of Resources directory if missing during SDK installation
- Implemented package identifier and ProGuard configuration for Android builds to prevent code obfuscation issues
- Encapsulated JsonConverter within SDK namespace to avoid conflicts with other packages

## [0.9.52] - 2024-11-28

### Hot Fix

- Removed the un-necessary Android specific resolution scaling that could cause build errors.

## [0.9.51] - 2024-11-27

### Changed

- Added support for Resolution Scaling
- Added UTC offset and retention day tracking to payload for more granular creative-level ROAS metrics and improved UTC-based analytics
- Some minor clean up

## [0.9.5] - 2024-10-29

### Changed

- Modified the ad payload to include revenue and currency
- Modified the value data types to [double] from [int]
- Added the data types to #readme tutorial

## [0.9.1] - 2024-09-26

### Changed

- Removed Unity Ads and Unity Purchases dependencies
- Cleaned up SDK settings
- Overall code cleanup and optimization

### Removed

- Unity Ads integration
- Unity Purchases integration

### Improved

- Simplified SDK configuration process
- Enhanced performance by removing unused dependencies

## [0.9.4] - 2024-10-07

### Changed

- Cleaned up the codebase.
- Optimized the SDK for performance.
- Improved the documentation.

## [0.9.0] - 2024-07-24

#### Initial release
